{"ast":null,"code":"var _jsxFileName = \"/home/phamerling/personal_projects/conjurers-spellbook/client/src/Components/PossibleConjures/PossibleConjures.js\";\nimport React from \"react\";\nimport SmallStatBlock from \"../SmallStatBlock/SmallStatBlock\";\nimport \"./PossibleConjures.css\";\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport TextField from '@mui/material/TextField';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PossibleConjures extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sort: \"name\",\n      filterBy: \"name\"\n    };\n    this.conjureMinion = this.conjureMinion.bind(this);\n    this.handleSortChange = this.handleSortChange.bind(this);\n    this.handleFilterChange = this.handleFilterChange.bind(this);\n  }\n\n  conjureMinion(name, type, spellSource) {\n    console.log(type);\n    fetch(`/api/minions?name=${name}&type=${type}&spellSource=${spellSource}`, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      method: \"POST\",\n      body: JSON.stringify({\n        \"name\": `${name}`,\n        \"type\": type,\n        \"spellSource\": spellSource\n      })\n    }).then(() => {\n      this.props.toggleRecentlyConjured();\n    });\n  }\n\n  handleSortChange(e) {\n    this.setState({\n      sort: e.target.value\n    });\n  }\n\n  handleFilterChange(e) {\n    this.setState({\n      filterBy: e.target.value\n    });\n  }\n\n  render() {\n    const unorderedConjures = this.props.conjures[this.props.selectedSpell];\n    const hasSubName = unorderedConjures[Object.keys(unorderedConjures)[0]].subName ? true : false;\n    let orderedConjures = Object.keys(unorderedConjures).sort((a, b) => {\n      const comp_a = unorderedConjures[a][this.state.sort];\n      const comp_b = unorderedConjures[b][this.state.sort];\n\n      if (typeof comp_a === \"number\") {\n        return comp_a - comp_b;\n      } else {\n        const crMap = {\n          \"1/8\": 0.125,\n          \"1/4\": 0.25,\n          \"1/2\": 0.5,\n          \"1\": 1,\n          \"2\": 2,\n          \"3\": 3,\n          \"4\": 4,\n          \"5\": 5,\n          \"6\": 6,\n          \"7\": 7,\n          \"8\": 8\n        };\n\n        if (comp_a in crMap) {\n          return crMap[comp_a] - crMap[comp_b];\n        } else {\n          if (comp_a < comp_b) {\n            return -1;\n          } else if (comp_a > comp_b) {\n            return 1;\n          } else {\n            return 0;\n          }\n        }\n      }\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"PossibleConjuresContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filterables\",\n        children: [/*#__PURE__*/_jsxDEV(FormControl, {\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"sort-select-label\",\n            children: \"Sort By\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"sort-select-label\",\n            id: \"sort-select\",\n            value: this.state.sort,\n            label: \"Sort by\",\n            onChange: this.handleSortChange,\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"name\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this), hasSubName ? /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"subName\",\n              children: \"Subname\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 43\n            }, this) : \"\", /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"AC\",\n              children: \"AC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"filter-select-label\",\n            children: \"Filter By\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"filter-select-label\",\n            id: \"filter-select\",\n            value: this.state.filterBy,\n            label: \"Filter by\",\n            onChange: this.handleFilterChange,\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"name\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this), hasSubName ? /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"subName\",\n              children: \"Subname\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 43\n            }, this) : \"\", /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"AC\",\n              children: \"AC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"filter-textfield\",\n            label: \"Filter\",\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"PossibleConjures\",\n        children: orderedConjures.map(c => /*#__PURE__*/_jsxDEV(SmallStatBlock, {\n          conjure: this.props.conjures[this.props.selectedSpell][c],\n          onClick: () => this.conjureMinion(c, this.props.conjures[this.props.selectedSpell][c].type, this.props.selectedSpell)\n        }, c, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default PossibleConjures;","map":{"version":3,"sources":["/home/phamerling/personal_projects/conjurers-spellbook/client/src/Components/PossibleConjures/PossibleConjures.js"],"names":["React","SmallStatBlock","InputLabel","MenuItem","FormControl","Select","TextField","PossibleConjures","Component","constructor","props","state","sort","filterBy","conjureMinion","bind","handleSortChange","handleFilterChange","name","type","spellSource","console","log","fetch","headers","method","body","JSON","stringify","then","toggleRecentlyConjured","e","setState","target","value","render","unorderedConjures","conjures","selectedSpell","hasSubName","Object","keys","subName","orderedConjures","a","b","comp_a","comp_b","crMap","map","c"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport SmallStatBlock from \"../SmallStatBlock/SmallStatBlock\";\nimport \"./PossibleConjures.css\";\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport TextField from '@mui/material/TextField';\n\nclass PossibleConjures extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { sort: \"name\", filterBy: \"name\" }\n        this.conjureMinion = this.conjureMinion.bind(this);\n        this.handleSortChange = this.handleSortChange.bind(this);\n        this.handleFilterChange = this.handleFilterChange.bind(this);\n    }\n\n    conjureMinion(name, type, spellSource) {\n        console.log(type);\n        fetch(`/api/minions?name=${name}&type=${type}&spellSource=${spellSource}`, {\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json'\n            },\n            method: \"POST\",\n            body: JSON.stringify({\"name\": `${name}`, \"type\": type, \"spellSource\": spellSource})\n        })\n        .then(() => {\n            this.props.toggleRecentlyConjured();\n        })\n    }\n\n    handleSortChange(e) {\n        this.setState({ sort: e.target.value })\n    }\n\n    handleFilterChange(e) {\n        this.setState({ filterBy: e.target.value})\n    }\n\n    render() {\n        const unorderedConjures = this.props.conjures[this.props.selectedSpell];\n        const hasSubName = unorderedConjures[Object.keys(unorderedConjures)[0]].subName ? true : false;\n        \n        let orderedConjures = Object.keys(unorderedConjures).sort((a, b) => {\n            const comp_a = unorderedConjures[a][this.state.sort];\n            const comp_b = unorderedConjures[b][this.state.sort];\n            if (typeof comp_a === \"number\") {\n                return comp_a - comp_b;\n            }\n            else {\n                const crMap = {\n                    \"1/8\": 0.125,\n                    \"1/4\": 0.25,\n                    \"1/2\": 0.5,\n                    \"1\": 1,\n                    \"2\": 2,\n                    \"3\": 3,\n                    \"4\": 4,\n                    \"5\": 5,\n                    \"6\": 6,\n                    \"7\": 7,\n                    \"8\": 8,\n                }\n                if (comp_a in crMap) {\n                    return crMap[comp_a] - crMap[comp_b];\n                }\n                else {\n                    if (comp_a < comp_b) {\n                        return -1;\n                    } else if (comp_a > comp_b) {\n                        return 1;\n                    } else {\n                        return 0;\n                    }\n                }\n            }\n        });   \n        return (\n            <div className=\"PossibleConjuresContainer\">\n                <div className=\"filterables\">\n                    <FormControl>\n                        <InputLabel id=\"sort-select-label\">Sort By</InputLabel>\n                        <Select\n                            labelId=\"sort-select-label\"\n                            id=\"sort-select\"\n                            value={this.state.sort}\n                            label=\"Sort by\"\n                            onChange={this.handleSortChange}\n                        >\n                            <MenuItem value=\"name\">Name</MenuItem>\n                            {hasSubName ? <MenuItem value=\"subName\">Subname</MenuItem> : \"\"}\n                            <MenuItem value=\"AC\">AC</MenuItem>\n                        </Select>\n                    </FormControl>\n                    <FormControl>\n                        <InputLabel id=\"filter-select-label\">Filter By</InputLabel>\n                        <Select\n                            labelId=\"filter-select-label\"\n                            id=\"filter-select\"\n                            value={this.state.filterBy}\n                            label=\"Filter by\"\n                            onChange={this.handleFilterChange}\n                        >\n                            <MenuItem value=\"name\">Name</MenuItem>\n                            {hasSubName ? <MenuItem value=\"subName\">Subname</MenuItem> : \"\"}\n                            <MenuItem value=\"AC\">AC</MenuItem>\n                        </Select>\n                    </FormControl>\n                    <FormControl>\n                        <TextField id=\"filter-textfield\" label=\"Filter\" variant=\"outlined\" />\n                    </FormControl>\n                </div>\n                <div className=\"PossibleConjures\">\n                    {orderedConjures.map((c) => (\n                        <SmallStatBlock key={c} conjure={this.props.conjures[this.props.selectedSpell][c]} onClick={() => this.conjureMinion(c, this.props.conjures[this.props.selectedSpell][c].type, this.props.selectedSpell)}></SmallStatBlock>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default PossibleConjures;"]},"metadata":{},"sourceType":"module"}